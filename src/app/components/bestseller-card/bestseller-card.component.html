<div class="best-selling-card">
  <div class="img-box">
    <ion-button
      fill="clear"
      class="favorite-btn"
      (click)="toggleFavorite($event, item)"
    >
      <ion-icon
        [name]="item.isFavorite ? 'heart' : 'heart-outline'"
        [color]="item.isFavorite ? 'danger' : 'medium'"
      ></ion-icon>
    </ion-button>
    <img [src]="'./assets/product-imgs/' + item.image" alt="product" />
  </div>
  
  <ion-badge color="danger" class="qty-badge" *ngIf="getQuantity() > 0">
    {{ getQuantity() }}
  </ion-badge>

  <div class="item-info">
    <div class="text-group">
      <h4>{{ item.name }}</h4>
      <div class="rating-row">
        <ion-icon
          *ngFor="let s of [1, 2, 3, 4, 5]"
          [name]="getStarName(s)"
          color="warning"
        ></ion-icon>
        <span class="rating-val">{{ item.metrics.rating }}</span>
      </div>
    </div>

    <div class="action-row">
      <span class="price-text">${{ item.price }}</span>
      <ion-button
        (click)="onOrder($event)"
        size="small"
        shape="round"
        class="order-btn"
      >
        Order
      </ion-button>
      <ion-badge color="danger" class="qty-badge" *ngIf="getQuantity() > 0">
        {{ getQuantity() }}
      </ion-badge>
    </div>
  </div>
</div>
